<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Mini Farming Game Deluxe</title>
<style>
  body { 
    margin:0; 
    font-family: 'Trebuchet MS', sans-serif; 
    background: radial-gradient(circle at top, #222 0%, #111 100%); 
    color:#fff; 
    display:flex; 
    flex-direction:column; 
    align-items:center; 
    justify-content:flex-start; 
    min-height:100vh;
  }
  h1 {
    margin: 20px 0;
    font-size:2.2rem;
    color:#8fff8f;
    text-shadow:0 0 12px #00ff7f, 0 0 25px #00ff7f;
  }
  canvas { 
    border:2px solid #00ff7f; 
    background:#2d2d2d; 
    margin-bottom:20px; 
    box-shadow:0 0 20px #00ff7f, inset 0 0 15px #003300;
    border-radius:12px;
  }
  button {
    padding:12px 28px;
    margin:8px;
    background:linear-gradient(#00ff7f,#00994c);
    color:#000;
    border:none;
    cursor:pointer;
    font-weight:bold;
    border-radius:12px;
    font-size:1rem;
    box-shadow:0 0 12px #00ff7f;
    transition: transform 0.15s, box-shadow 0.2s;
  }
  button:hover {
    transform:scale(1.07);
    box-shadow:0 0 18px #00ffaa;
  }
  #stats {
    flex:1;
    background:#111;
    padding:15px 25px;
    border-radius:12px;
    box-shadow:0 0 15px #00ff7f;
    text-align:left;
    border:1px solid #00ff7f;
    min-width:150px;
  }
  #side {
    display:flex;
    margin-top:25px;
    gap:25px;
    align-items:stretch;
    flex-wrap:wrap;
    justify-content:center;
  }
  /* Balti-Karte */
  #baltiCard {
    position:relative;
    background:linear-gradient(145deg,#1a1a1a,#292929);
    border:2px solid #00ff7f;
    padding:15px;
    border-radius:20px;
    text-align:center;
    box-shadow:0 0 20px #00ff7f, inset 0 0 10px #003300;
    width:180px;
  }
  #baltiCard::before {
    content:"Farmer Karte";
    position:absolute;
    top:-14px;
    left:50%;
    transform:translateX(-50%);
    background:#00ff7f;
    color:#000;
    font-weight:bold;
    font-size:0.8rem;
    padding:2px 10px;
    border-radius:8px;
    box-shadow:0 0 10px #00ff7f;
  }
  #baltiCard img {
    width:100%;
    border-radius:15px;
    display:block;
    margin:0 auto 12px auto;
    box-shadow:0 0 12px #00ff7f;
  }
  #baltiCard p {
    margin:0;
    font-weight:bold;
    color:#8fff8f;
    text-shadow:0 0 8px #00ff7f;
  }
</style>
</head>
<body>

<h1>üå± Mini Farming Game Deluxe</h1>
<canvas id="farmCanvas" width="400" height="400"></canvas>
<div>
  <button id="plantBtn">üå± Pflanzen</button>
  <button id="harvestBtn">üåæ Ernten</button>
</div>

<div id="side">
  <div id="stats">
    <p><b>Level:</b> <span id="level">1</span></p>
    <p><b>XP:</b> <span id="xp">0</span></p>
    <p><b>Geerntet:</b> <span id="harvested">0</span></p>
  </div>
  <div id="baltiCard">
    <img src="BALTI.JPG" alt="Farmer Balti">
    <p>üë®‚Äçüåæ Farmer Balti</p>
  </div>
</div>

<audio id="plantSound" src="plant.mp3"></audio>
<audio id="harvestSound" src="harvest.mp3"></audio>

<script>
const canvas = document.getElementById('farmCanvas');
const ctx = canvas.getContext('2d');

const GRID_SIZE = 5;
const CELL_SIZE = canvas.width / GRID_SIZE;

let farm = Array(GRID_SIZE).fill().map(()=>Array(GRID_SIZE).fill(null));

class Plant {
  constructor() {
    this.growth = 0; // 0‚Äì100
  }
  grow() { if(this.growth<100)this.growth+=2; }
  isReady() { return this.growth>=100; }
}

let xp=0, level=1, harvested=0;

function updateStats(){
  document.getElementById('xp').innerText = xp;
  document.getElementById('level').innerText = level;
  document.getElementById('harvested').innerText = harvested;
}

function levelUpCheck(){
  if(xp >= level*20){
    xp=0;
    level++;
    alert("üéâ Level Up! Du bist jetzt Level "+level+"!");
  }
}

function drawFarm() {
  ctx.clearRect(0,0,canvas.width,canvas.height);

  for(let i=0;i<GRID_SIZE;i++){
    for(let j=0;j<GRID_SIZE;j++){
      ctx.strokeStyle = '#00ff7f';
      ctx.strokeRect(j*CELL_SIZE, i*CELL_SIZE, CELL_SIZE, CELL_SIZE);

      const plant = farm[i][j];
      if(plant){
        if(plant.growth<100){
          const green = Math.min(255, Math.floor(plant.growth * 2.55));
          ctx.fillStyle = `rgb(0,${green},0)`;
        } else {
          ctx.fillStyle = "gold"; // reif
        }
        ctx.fillRect(j*CELL_SIZE+5, i*CELL_SIZE+5, CELL_SIZE-10, CELL_SIZE-10);
      }
    }
  }
}

document.getElementById('plantBtn').onclick = ()=>{
  let planted=false;
  for(let i=0;i<GRID_SIZE;i++){
    for(let j=0;j<GRID_SIZE;j++){
      if(!farm[i][j] && Math.random()<0.3){
        farm[i][j] = new Plant();
        planted=true;
      }
    }
  }
  if(planted) document.getElementById('plantSound').play();
  drawFarm();
}

document.getElementById('harvestBtn').onclick = ()=>{
  let any=false;
  for(let i=0;i<GRID_SIZE;i++){
    for(let j=0;j<GRID_SIZE;j++){
      if(farm[i][j] && farm[i][j].isReady()){
        farm[i][j] = null;
        xp+=5;
        harvested++;
        any=true;
      }
    }
  }
  if(any) {
    document.getElementById('harvestSound').play();
    levelUpCheck();
  }
  updateStats();
  drawFarm();
}

setInterval(()=>{
  for(let i=0;i<GRID_SIZE;i++){
    for(let j=0;j<GRID_SIZE;j++){
      if(farm[i][j]) farm[i][j].grow();
    }
  }
  drawFarm();
}, 500);

updateStats();
drawFarm();
</script>

</body>
</html>
