<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Mini Farming Game Deluxe</title>
<style>
  body { 
    margin:0; 
    font-family:sans-serif; 
    background:#1b1b1b; 
    color:#fff; 
    display:flex; 
    flex-direction:column; 
    align-items:center; 
    justify-content:flex-start; 
    min-height:100vh;
  }
  h1 {
    margin: 15px 0;
    font-size:2rem;
    color:#8fff8f;
    text-shadow:0 0 8px #0f0;
  }
  canvas { 
    border:2px solid #0f0; 
    background:#2d2d2d; 
    margin-bottom:15px; 
    box-shadow:0 0 15px #0f0;
  }
  button {
    padding:10px 25px;
    margin:5px;
    background:linear-gradient(#0f0,#0b0);
    color:#000;
    border:none;
    cursor:pointer;
    font-weight:bold;
    border-radius:10px;
    font-size:1rem;
    box-shadow:0 0 10px #0f0;
    transition: transform 0.1s;
  }
  button:hover {
    transform:scale(1.05);
  }
  #stats {
    margin-top:15px;
    background:#111;
    padding:10px 20px;
    border-radius:10px;
    box-shadow:0 0 10px #0f0;
    text-align:left;
  }
  #side {
    display:flex;
    margin-top:20px;
    gap:20px;
    align-items:flex-start;
  }
  #baltiCard {
    background:#222;
    border:2px solid #0f0;
    padding:10px;
    border-radius:15px;
    text-align:center;
    box-shadow:0 0 15px #0f0;
  }
  #baltiCard img {
    width:120px;
    border-radius:10px;
    display:block;
    margin:0 auto 10px auto;
  }
</style>
</head>
<body>

<h1>üå± Mini Farming Game Deluxe</h1>
<canvas id="farmCanvas" width="400" height="400"></canvas>
<div>
  <button id="plantBtn">üå± Pflanzen</button>
  <button id="harvestBtn">üåæ Ernten</button>
</div>

<div id="side">
  <div id="stats">
    <p><b>Level:</b> <span id="level">1</span></p>
    <p><b>XP:</b> <span id="xp">0</span></p>
    <p><b>Geerntet:</b> <span id="harvested">0</span></p>
  </div>
  <div id="baltiCard">
    <img src="BALTI.JPG" alt="Farmer Balti">
    <p>üë®‚Äçüåæ Farmer Balti</p>
  </div>
</div>

<audio id="plantSound" src="plant.mp3"></audio>
<audio id="harvestSound" src="harvest.mp3"></audio>

<script>
const canvas = document.getElementById('farmCanvas');
const ctx = canvas.getContext('2d');

const GRID_SIZE = 5;
const CELL_SIZE = canvas.width / GRID_SIZE;

let farm = Array(GRID_SIZE).fill().map(()=>Array(GRID_SIZE).fill(null));

class Plant {
  constructor() {
    this.growth = 0; // 0‚Äì100
  }
  grow() { if(this.growth<100)this.growth+=2; }
  isReady() { return this.growth>=100; }
}

let xp=0, level=1, harvested=0;

function updateStats(){
  document.getElementById('xp').innerText = xp;
  document.getElementById('level').innerText = level;
  document.getElementById('harvested').innerText = harvested;
}

function levelUpCheck(){
  if(xp >= level*20){
    xp=0;
    level++;
    alert("üéâ Level Up! Du bist jetzt Level "+level+"!");
  }
}

function drawFarm() {
  ctx.clearRect(0,0,canvas.width,canvas.height);

  for(let i=0;i<GRID_SIZE;i++){
    for(let j=0;j<GRID_SIZE;j++){
      ctx.strokeStyle = '#0f0';
      ctx.strokeRect(j*CELL_SIZE, i*CELL_SIZE, CELL_SIZE, CELL_SIZE);

      const plant = farm[i][j];
      if(plant){
        if(plant.growth<100){
          const green = Math.min(255, Math.floor(plant.growth * 2.55));
          ctx.fillStyle = `rgb(0,${green},0)`;
        } else {
          ctx.fillStyle = "gold"; // reif
        }
        ctx.fillRect(j*CELL_SIZE+5, i*CELL_SIZE+5, CELL_SIZE-10, CELL_SIZE-10);
      }
    }
  }
}

document.getElementById('plantBtn').onclick = ()=>{
  let planted=false;
  for(let i=0;i<GRID_SIZE;i++){
    for(let j=0;j<GRID_SIZE;j++){
      if(!farm[i][j] && Math.random()<0.3){
        farm[i][j] = new Plant();
        planted=true;
      }
    }
  }
  if(planted) document.getElementById('plantSound').play();
  drawFarm();
}

document.getElementById('harvestBtn').onclick = ()=>{
  let any=false;
  for(let i=0;i<GRID_SIZE;i++){
    for(let j=0;j<GRID_SIZE;j++){
      if(farm[i][j] && farm[i][j].isReady()){
        farm[i][j] = null;
        xp+=5;
        harvested++;
        any=true;
      }
    }
  }
  if(any) {
    document.getElementById('harvestSound').play();
    levelUpCheck();
  }
  updateStats();
  drawFarm();
}

setInterval(()=>{
  for(let i=0;i<GRID_SIZE;i++){
    for(let j=0;j<GRID_SIZE;j++){
      if(farm[i][j]) farm[i][j].grow();
    }
  }
  drawFarm();
}, 500);

updateStats();
drawFarm();
</script>

</body>
</html>
